<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tienda Anteojos Ediciones | Comprar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Favicons -->
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/icons/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/icons/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/icons/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/icons/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/icons/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="/icons/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="/icons/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/icons/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/icons/apple-icon-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/icons/android-icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/icons/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/icons/favicon-16x16.png"
    />
    <link rel="manifest" href="/icons/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffff" />
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffff" />

    <!-- Tipografías -->
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700;900&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --verde-principal: #0a6b63;
        --verde-oscuro: #064f49;
        --turquesa: #78c8c3;
        --turquesa-oscuro: #37958e;
        --rosa: #eeb9b0;
        --rosa-oscuro: #b5847b;
        --amarillo: #f4cb64;
        --amarillo-oscuro: #a68b45;
        --gris-claro: #f8f9fa;
        --texto: #1f1f1f;
        --blanco: #ffff;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Raleway", sans-serif;
        color: var(--texto);
        line-height: 1.7;
        background-color: var(--blanco);
      }

      img {
        max-width: 100%;
        display: block;
      }

      a {
        text-decoration: none;
        color: inherit;
      }

      .informacion {
        text-decoration: underline;
        color: var(--verde-oscuro);
      }

      @import url("https://fonts.googleapis.com/css2?family=Raleway:wght@400;700;900&display=swap");
      body {
        font-family: "Raleway", sans-serif;
      }
      .cart-drawer {
        transition: transform 0.3s ease-in-out;
      }

      /* ==== HEADER ==== */
      header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(170, 220, 217, 0.3);
        z-index: 1000;
        box-shadow: 0 2px 20px rgba(10, 107, 99, 0.08);
      }

      .nav-container {
        max-width: 1280px;
        margin: 0 auto;
        padding: 16px 32px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo {
        display: flex;
        align-items: center;
        height: 100px;
        z-index: 1001;
      }

      .logo img {
        height: 100%;
        width: auto;
      }

      .logo a {
        height: 100%;
        width: auto;
      }

      /* ==== FOOTER ==== */
      footer {
        background: linear-gradient(
          135deg,
          var(--verde-oscuro) 0%,
          var(--verde-principal) 100%
        );
        color: var(--blanco);
        padding: 56px 32px;
        text-align: center;
        margin-top: 64px;
      }

      .sociales {
        display: flex;
        justify-content: center;
        gap: 40px;
        margin-bottom: 32px;
        font-size: 1.1rem;
      }

      .sociales a {
        transition: all 0.3s ease;
        padding: 12px 24px;
        border-radius: 12px;
        font-weight: 700;
      }

      .sociales img {
        max-height: 50px;
      }

      .sociales a:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-3px);
      }

      footer p {
        opacity: 0.9;
        font-weight: 600;
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
      <div
        class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center"
      >
        <div class="logo">
          <a href="/index.html">
            <img
              src="/img/Logo_Anteojos Ediciones_02.png"
              alt="Anteojos Ediciones"
          /></a>
        </div>
        <button onclick="toggleCart()" class="relative p-2 text-teal-800">
          <i class="fas fa-shopping-cart text-2xl"></i>
          <span
            id="cart-count"
            class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"
            >0</span
          >
        </button>
      </div>
    </header>

    <!-- Productos -->
    <main class="max-w-7xl mx-auto px-4 py-12">
      <h2 class="text-3xl font-bold text-center mb-12">
        Nuestros Libros - Comprar
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Producto 1 -->
        <div
          class="bg-white p-6 rounded-3xl shadow-lg border-b-4 border-teal-600"
        >
          <img
            src="/img/Catrina_1.jpg"
            alt="Libro el día de los muertos de Catrina"
            class="w-full h-64 object-cover rounded-2xl mb-4"
          />
          <h3 class="text-xl font-bold mb-2">
            El día de los muertos de Catrina
          </h3>
          <p class="text-gray-600 mb-4 text-sm">
            Un recorrido alegre y luminoso por una de las tradiciones más bellas
            de México. <br />
          </p>
          <a class="informacion" href="/catrina.html" target="_blank">
            Más información</a
          >
          <div class="flex justify-between items-center">
            <span class="text-2xl font-black text-teal-700">$80.000</span>
            <button
              onclick="addToCart('Catrina', 80000)"
              class="bg-teal-600 text-white px-4 py-2 rounded-full hover:bg-teal-700 transition"
            >
              Agregar
            </button>
          </div>
        </div>

        <!-- Producto 2 -->
        <div
          class="bg-white p-6 rounded-3xl shadow-lg border-b-4 border-pink-400"
        >
          <img
            src="/img/Ucumari_2.jpg"
            alt="Libro Ucumari el guardian de la montaña"
            class="w-full h-64 object-cover rounded-2xl mb-4"
          />
          <h3 class="text-xl font-bold mb-2">
            Ucumarí, el guardián de la montaña
          </h3>
          <p class="text-gray-600 mb-4 text-sm">
            Descubre la magia del páramo de Chingaza a través de los ojos del
            oso andino. <br />
          </p>
          <a class="informacion" href="/ucumari.html" target="_blank">
            Más información</a
          >
          <div class="flex justify-between items-center">
            <span class="text-2xl font-black text-teal-700">$120.000</span>
            <button
              onclick="addToCart('Ucumari', 120000)"
              class="bg-teal-600 text-white px-4 py-2 rounded-full hover:bg-teal-700 transition"
            >
              Agregar
            </button>
          </div>
        </div>

        <!-- Producto 3 -->
        <div
          class="bg-white p-6 rounded-3xl shadow-lg border-b-4 border-yellow-400"
        >
          <img
            src="/img/diorama_1.jpeg"
            alt="Libro"
            class="w-full h-64 object-cover rounded-2xl mb-4"
          />
          <h3 class="text-xl font-bold mb-2">Diorama de Catrina para pintar</h3>
          <p class="text-gray-600 mb-4 text-sm">
            Descubre una nueva forma de sumergirte en esta mágica historia con
            nuestro diorama artístico.
          </p>
          <a class="informacion" href="/diorama.html" target="_blank">
            Más información</a
          >
          <div class="flex justify-between items-center">
            <span class="text-2xl font-black text-teal-700">$50.000</span>
            <button
              onclick="addToCart('Diorama', 50000)"
              class="bg-teal-600 text-white px-4 py-2 rounded-full hover:bg-teal-700 transition"
            >
              Agregar
            </button>
          </div>
        </div>

        <!-- Producto 4 -->
        <div
          class="bg-white p-6 rounded-3xl shadow-lg border-b-4 border-yellow-400"
        >
          <img
            src="/img/20240921_102922.jpg"
            alt="Libro"
            class="w-full h-64 object-cover rounded-2xl mb-4"
          />
          <h3 class="text-xl font-bold mb-2">Libro + Diorama</h3>
          <p class="text-gray-600 mb-4 text-sm">
            Libro el Día de los Muertos de Catrina con Diorama para pintar.
          </p>
          <div class="flex justify-between items-center">
            <span class="text-2xl font-black text-teal-700">$113.000</span>
            <button
              onclick="addToCart('Catrina con Diorama', 113000)"
              class="bg-teal-600 text-white px-4 py-2 rounded-full hover:bg-teal-700 transition"
            >
              Agregar
            </button>
          </div>
        </div>
      </div>
    </main>

    <!-- Carrito (Drawer) -->
    <div
      id="cart-drawer"
      class="fixed inset-y-0 right-0 w-full md:w-96 bg-white shadow-2xl z-[60] transform translate-x-full cart-drawer"
    >
      <div class="p-6 h-full flex flex-col">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-2xl font-bold">Tu Carrito</h2>
          <button onclick="toggleCart()" class="text-gray-500 hover:text-black">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>

        <div id="cart-items" class="flex-grow overflow-y-auto space-y-4">
          <!-- Items se cargan aquí -->
          <p class="text-gray-500 text-center">El carrito está vacío</p>
        </div>

        <div class="border-t pt-6 mt-6">
          <div class="flex justify-between text-xl font-bold mb-6">
            <span>Total:</span>
            <span id="cart-total">$0</span>
          </div>
          <a
            href="finalizar-compra.html"
            class="w-full block text-center bg-teal-700 text-white py-4 rounded-2xl font-bold text-lg hover:bg-teal-800 transition shadow-lg"
            >Finalizar Compra</a
          >
          <p class="text-center text-xs text-gray-400 mt-4">
            Pagos seguros vía PSE, Tarjeta o Efectivo
          </p>
        </div>
      </div>
    </div>

    <!-- Overlay -->
    <div
      id="overlay"
      onclick="toggleCart()"
      class="fixed inset-0 bg-black opacity-0 pointer-events-none transition-opacity z-[55]"
    ></div>

    <script>
      let cart = [];

      function toggleCart() {
        const drawer = document.getElementById("cart-drawer");
        const overlay = document.getElementById("overlay");
        drawer.classList.toggle("translate-x-full");
        overlay.classList.toggle("opacity-50");
        overlay.classList.toggle("pointer-events-none");
      }

      // Guardar carrito en localStorage
      function saveCart() {
        localStorage.setItem("cart", JSON.stringify(cart));
        // Tambin guardar el total para acceso rapido
        const total = cart.reduce((acc, item) => acc + item.price, 0);
        localStorage.setItem("cart_total", total.toString());
      }

      // Cargar carrito desde localStorage al iniciar
      function loadCart() {
        const storedCart = localStorage.getItem("cart");
        if (storedCart) {
          try {
            cart = JSON.parse(storedCart);
          } catch (e) {
            console.warn("Error parsing cart from localStorage", e);
            cart = [];
          }
        } else {
          cart = [];
        }
      }

      function addToCart(name, price) {
        cart.push({ name, price });
        saveCart();
        updateCartUI();
        // Abrir carrito automticamente al agregar
        const drawer = document.getElementById("cart-drawer");
        if (drawer.classList.contains("translate-x-full")) toggleCart();
      }

      function updateCartUI() {
        const container = document.getElementById("cart-items");
        const count = document.getElementById("cart-count");
        const total = document.getElementById("cart-total");

        count.innerText = cart.length;

        if (cart.length === 0) {
          container.innerHTML =
            '<p class="text-gray-500 text-center">El carrito est\u00e1 vac\u00edo</p>';
          total.innerText = "$0";
          return;
        }

        container.innerHTML = cart
          .map(
            (item, index) => `
                <div class="flex justify-between items-center bg-gray-50 p-3 rounded-xl">
                    <div>
                    <p class="font-bold">${item.name}</p>
                    <p class="text-teal-600 text-sm">$${item.price.toLocaleString()}</p>
                    </div>
                    <button onclick="removeItem(${index})" class="text-red-400 hover:text-red-600">
                    <i class="fas fa-trash"></i>
                    </button>
                </div>
            `,
          )
          .join("");

        const sum = cart.reduce((acc, item) => acc + item.price, 0);
        total.innerText = "$" + sum.toLocaleString();
      }

      function removeItem(index) {
        cart.splice(index, 1);
        saveCart();
        updateCartUI();
      }

      function checkout() {
        if (cart.length === 0) return alert("Agrega productos primero");

        const total = cart.reduce((acc, item) => acc + item.price, 0);
        const itemsList = cart.map((i) => i.name).join(", ");

        alert(
          `Simulaci\u00f3n de Pago:\n\nTotal: $${total.toLocaleString()}\nProductos: ${itemsList}\n\nRedirigiendo a Mercado Pago...`,
        );

        // Aqu\u00ed ir\u00eda la l\u00f3gica real:
        // 1. Enviar datos a EmailJS para avisar al administrador.
        // 2. Redirigir al link de pago generado por Mercado Pago.
      }

      // Inicializar al cargar la p\u00e1gina
      document.addEventListener("DOMContentLoaded", function () {
        loadCart();
        updateCartUI();
      });
    </script>

    <footer>
      <div class="sociales">
        <a
          href="https://www.instagram.com/anteojosediciones?igsh=MWVuZ2dncTV1cjZwdw%3D%3D&utm_source=qr"
          target="_blank"
          ><img src="/img/instagram.png" alt="Instagram"
        /></a>
        <a
          href="https://www.facebook.com/profile.php?id=61560272981216&mibextid=ZbWKwL"
          target="_blank"
          ><img src="/img/facebook.png" alt="Facebook"
        /></a>
        <a href="mailto:anteojosedicionessitioweb@gmail.com" target="_blank"
          ><img src="/img/mail.png" alt="Email"
        /></a>
      </div>
      <p>© Anteojos Ediciones 2026</p>
    </footer>
  </body>
</html>
